(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{6329:(e,t,r)=>{Promise.resolve().then(r.bind(r,3502))},3502:(e,t,r)=>{"use strict";r.d(t,{default:()=>eE});var s=r(5155),a=r(2115),i=r(4159),l=r(992),o=r(1781),n=r(775),d=r(6954),c=r(2316),m=r(3920),u=r(5686),h=r(8684),x=r(4857),p=r(3518),f=r(6967),g=r(3473),v=r(2317),b=r(1027),j=r(3463),y=r(9795);function N(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,y.QP)((0,j.$)(t))}let w=(0,b.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),C=a.forwardRef((e,t)=>{let{className:r,variant:a,size:i,asChild:l=!1,...o}=e,n=l?v.DX:"button";return(0,s.jsx)(n,{className:N(w({variant:a,size:i,className:r})),ref:t,...o})});C.displayName="Button";let F=a.forwardRef((e,t)=>{let{className:r,type:a,...i}=e;return(0,s.jsx)("input",{type:a,className:N("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...i})});F.displayName="Input";var k=r(6195);let S=(0,b.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),R=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(k.b,{ref:t,className:N(S(),r),...a})});R.displayName=k.b.displayName;var P=r(2714),D=r(1719),A=r(1902),E=r(8867);let O=P.bL;P.YJ;let B=P.WT,_=a.forwardRef((e,t)=>{let{className:r,children:a,...i}=e;return(0,s.jsxs)(P.l9,{ref:t,className:N("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...i,children:[a,(0,s.jsx)(P.In,{asChild:!0,children:(0,s.jsx)(D.A,{className:"h-4 w-4 opacity-50"})})]})});_.displayName=P.l9.displayName;let L=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(P.PP,{ref:t,className:N("flex cursor-default items-center justify-center py-1",r),...a,children:(0,s.jsx)(A.A,{className:"h-4 w-4"})})});L.displayName=P.PP.displayName;let I=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(P.wn,{ref:t,className:N("flex cursor-default items-center justify-center py-1",r),...a,children:(0,s.jsx)(D.A,{className:"h-4 w-4"})})});I.displayName=P.wn.displayName;let z=a.forwardRef((e,t)=>{let{className:r,children:a,position:i="popper",...l}=e;return(0,s.jsx)(P.ZL,{children:(0,s.jsxs)(P.UC,{ref:t,className:N("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:i,...l,children:[(0,s.jsx)(L,{}),(0,s.jsx)(P.LM,{className:N("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,s.jsx)(I,{})]})})});z.displayName=P.UC.displayName,a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(P.JU,{ref:t,className:N("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...a})}).displayName=P.JU.displayName;let T=a.forwardRef((e,t)=>{let{className:r,children:a,...i}=e;return(0,s.jsxs)(P.q7,{ref:t,className:N("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...i,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(P.VF,{children:(0,s.jsx)(E.A,{className:"h-4 w-4"})})}),(0,s.jsx)(P.p4,{children:a})]})});T.displayName=P.q7.displayName,a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(P.wv,{ref:t,className:N("-mx-1 my-1 h-px bg-muted",r),...a})}).displayName=P.wv.displayName;var W=r(5900);let J=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsxs)(W.bL,{ref:t,className:N("relative flex w-full touch-none select-none items-center",r),...a,children:[(0,s.jsx)(W.CC,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:(0,s.jsx)(W.Q6,{className:"absolute h-full bg-primary"})}),(0,s.jsx)(W.zi,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:h-6 hover:w-6 hover:border-[3px] cursor-grab active:cursor-grabbing active:scale-110"})]})});J.displayName=W.bL.displayName;let U=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:N("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});U.displayName="Card",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:N("flex flex-col space-y-1.5 p-6",r),...a})}).displayName="CardHeader",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:N("text-2xl font-semibold leading-none tracking-tight",r),...a})}).displayName="CardTitle",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:N("text-sm text-muted-foreground",r),...a})}).displayName="CardDescription";let V=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:N("p-6 pt-0",r),...a})});V.displayName="CardContent",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:N("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter";var Y=r(434);let M=a.forwardRef((e,t)=>{let{className:r,orientation:a="horizontal",decorative:i=!0,...l}=e;return(0,s.jsx)(Y.b,{ref:t,decorative:i,orientation:a,className:N("shrink-0 bg-border","horizontal"===a?"h-[1px] w-full":"h-full w-[1px]",r),...l})});M.displayName=Y.b.displayName;var G=r(1470),X=r(3565);let q=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(G.bL,{className:N("grid gap-2",r),...a,ref:t})});q.displayName=G.bL.displayName;let H=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(G.q7,{ref:t,className:N("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),...a,children:(0,s.jsx)(G.C1,{className:"flex items-center justify-center",children:(0,s.jsx)(X.A,{className:"h-2.5 w-2.5 fill-current text-current"})})})});H.displayName=G.q7.displayName;let Z=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("textarea",{className:N("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...a})});Z.displayName="Textarea";var Q=r(532);let $=Q.bL,K=Q.l9,ee=a.forwardRef((e,t)=>{let{className:r,align:a="center",sideOffset:i=4,...l}=e;return(0,s.jsx)(Q.ZL,{children:(0,s.jsx)(Q.UC,{ref:t,align:a,sideOffset:i,className:N("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...l})})});function et(e){let{color:t,onChange:r}=e,[i,l]=(0,a.useState)(t),o=(0,a.useRef)(null);return(0,a.useEffect)(()=>{l(t)},[t]),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)($,{children:[(0,s.jsx)(K,{asChild:!0,children:(0,s.jsx)("button",{className:"w-10 h-10 rounded-md border border-input",style:{backgroundColor:t},"aria-label":"Pick a color"})}),(0,s.jsx)(ee,{className:"w-64",children:(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,s.jsx)("div",{className:"grid grid-cols-6 gap-2",children:["#FF0000","#FF7F00","#FFFF00","#00FF00","#0000FF","#4B0082","#9400D3","#FF1493","#FF69B4","#FFC0CB","#FFFFFF","#000000","#808080","#A52A2A","#D2691E","#FFD700","#008000","#00FFFF"].map(e=>(0,s.jsx)("button",{className:"w-8 h-8 rounded-md border border-input",style:{backgroundColor:e},onClick:()=>{r(e),l(e)},"aria-label":"Select color ".concat(e)},e))}),(0,s.jsx)("input",{ref:o,type:"color",value:i,onChange:e=>{l(e.target.value),r(e.target.value)},className:"w-full h-10"})]})})]}),(0,s.jsx)(F,{value:i,onChange:e=>{let t=e.target.value;l(t),/^#[0-9A-F]{6}$/i.test(t)&&r(t)},className:"w-28",placeholder:"#RRGGBB"})]})}ee.displayName=Q.UC.displayName;var er=r(7859),es=r(853),ea=r(6217),ei=r(767);let el=ea.bL,eo=ea.l9,en=ea.ZL;ea.bm;let ed=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(ea.hJ,{ref:t,className:N("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...a})});ed.displayName=ea.hJ.displayName;let ec=a.forwardRef((e,t)=>{let{className:r,children:a,...i}=e;return(0,s.jsxs)(en,{children:[(0,s.jsx)(ed,{}),(0,s.jsxs)(ea.UC,{ref:t,className:N("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...i,children:[a,(0,s.jsxs)(ea.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(ei.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});ec.displayName=ea.UC.displayName;let em=e=>{let{className:t,...r}=e;return(0,s.jsx)("div",{className:N("flex flex-col space-y-1.5 text-center sm:text-left",t),...r})};em.displayName="DialogHeader";let eu=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(ea.hE,{ref:t,className:N("text-lg font-semibold leading-none tracking-tight",r),...a})});eu.displayName=ea.hE.displayName,a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(ea.VY,{ref:t,className:N("text-sm text-muted-foreground",r),...a})}).displayName=ea.VY.displayName;let eh=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(er.uB,{ref:t,className:N("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",r),...a})});eh.displayName=er.uB.displayName;let ex=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsxs)("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[(0,s.jsx)(es.A,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),(0,s.jsx)(er.uB.Input,{ref:t,className:N("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",r),...a})]})});ex.displayName=er.uB.Input.displayName;let ep=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(er.uB.List,{ref:t,className:N("max-h-[300px] overflow-y-auto overflow-x-hidden",r),...a})});ep.displayName=er.uB.List.displayName;let ef=a.forwardRef((e,t)=>(0,s.jsx)(er.uB.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));ef.displayName=er.uB.Empty.displayName;let eg=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(er.uB.Group,{ref:t,className:N("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",r),...a})});eg.displayName=er.uB.Group.displayName,a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(er.uB.Separator,{ref:t,className:N("-mx-1 h-px bg-border",r),...a})}).displayName=er.uB.Separator.displayName;let ev=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(er.uB.Item,{ref:t,className:N("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r),...a})});ev.displayName=er.uB.Item.displayName;var eb=r(5800);function ej(e){var t;let{languages:r,activeLanguage:i,onChange:l}=e,[o,n]=(0,a.useState)(!1),[d,c]=(0,a.useState)(!1),[m,u]=(0,a.useState)(""),[h,x]=(0,a.useState)(""),p=(null===(t=r.find(e=>e.code===i))||void 0===t?void 0:t.name)||i;return(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)($,{open:o,onOpenChange:n,children:[(0,s.jsx)(K,{asChild:!0,children:(0,s.jsxs)(C,{variant:"outline",role:"combobox","aria-expanded":o,className:"w-[200px] justify-between",children:[p,(0,s.jsx)(eb.A,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,s.jsx)(ee,{className:"w-[200px] p-0",children:(0,s.jsxs)(eh,{children:[(0,s.jsx)(ex,{placeholder:"Search language..."}),(0,s.jsxs)(ep,{children:[(0,s.jsx)(ef,{children:"No language found."}),(0,s.jsxs)(eg,{children:[r.map(e=>(0,s.jsxs)(ev,{value:e.code,onSelect:()=>{l(e.code),n(!1)},children:[(0,s.jsx)(E.A,{className:"mr-2 h-4 w-4 ".concat(i===e.code?"opacity-100":"opacity-0")}),e.name]},e.code)),(0,s.jsxs)(ev,{onSelect:()=>{c(!0),n(!1)},children:[(0,s.jsx)(g.A,{className:"mr-2 h-4 w-4"}),"Add Language"]})]})]})]})})]}),(0,s.jsx)(el,{open:d,onOpenChange:c,children:(0,s.jsxs)(ec,{children:[(0,s.jsx)(em,{children:(0,s.jsx)(eu,{children:"Add New Language"})}),(0,s.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,s.jsx)(R,{htmlFor:"code",className:"text-right",children:"Code"}),(0,s.jsx)(F,{id:"code",value:m,onChange:e=>u(e.target.value),placeholder:"en",className:"col-span-3"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,s.jsx)(R,{htmlFor:"name",className:"text-right",children:"Name"}),(0,s.jsx)(F,{id:"name",value:h,onChange:e=>x(e.target.value),placeholder:"English",className:"col-span-3"})]})]}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsx)(C,{onClick:()=>{c(!1),u(""),x("")},children:"Add Language"})})]})})]})}var ey=r(670),eN=r.n(ey),ew=r(78),eC=r.n(ew);function eF(e,t){let r=URL.createObjectURL(e),s=document.createElement("a");s.href=r,s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(r)}async function ek(e,t,r,s){let a=Object.keys(t),i=a.length>1,l=i?new(eN()):null;for(let r of a){var o,n;let a=e.querySelector("h2"),d=e.querySelector("p");a&&(null===(o=t[r])||void 0===o?void 0:o.title)&&(a.textContent=t[r].title),d&&(null===(n=t[r])||void 0===n?void 0:n.description)&&(d.textContent=t[r].description);try{let t=await eC()(e,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:s.backgroundColor}),a=await new Promise(e=>{t.toBlob(t=>e(t),"image/png",1)});i&&l?l.file("".concat(r,"_banner.png"),a):eF(a,"".concat(r,"_banner.png"))}catch(e){console.error("Error capturing screenshot:",e)}}if(i&&l)try{let e=await l.generateAsync({type:"blob"});eF(e,"app_store_banners.zip")}catch(e){console.error("Error generating zip file:",e)}}let eS=[{code:"en",name:"English"},{code:"ru",name:"Russian"},{code:"es",name:"Spanish"},{code:"fr",name:"French"},{code:"de",name:"German"},{code:"it",name:"Italian"},{code:"ja",name:"Japanese"},{code:"ko",name:"Korean"},{code:"zh",name:"Chinese"}],eR={orientation:"portrait",backgroundColor:"#007AFF",titleColor:"#FFFFFF",descriptionColor:"#FFFFFF",fontFamily:"SF Pro"},eP=[{value:"top-left",label:"Top Left"},{value:"top-center",label:"Top Center"},{value:"top-right",label:"Top Right"},{value:"center-left",label:"Center Left"},{value:"center",label:"Center"},{value:"center-right",label:"Center Right"},{value:"bottom-left",label:"Bottom Left"},{value:"bottom-center",label:"Bottom Center"},{value:"bottom-right",label:"Bottom Right"}];function eD(e){let{selectedDevice:t,onChange:r}=e;return(0,s.jsxs)("div",{className:"inline-flex items-center h-10 p-1 bg-gray-100 rounded-lg border border-gray-200",children:[(0,s.jsx)("button",{onClick:()=>r("iphone"),className:"px-3 py-1.5 rounded-md text-sm font-medium transition-all ".concat("iphone"===t?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"iPhone"}),(0,s.jsx)("button",{onClick:()=>r("ipad"),className:"px-3 py-1.5 rounded-md text-sm font-medium transition-all ".concat("ipad"===t?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"iPad"})]})}class eA{initDB(){return new Promise((e,t)=>{if(!window.indexedDB){console.error("Ваш браузер не поддерживает IndexedDB"),t("IndexedDB не поддерживается");return}let r=window.indexedDB.open(this.dbName,this.version);r.onerror=e=>{console.error("Ошибка при открытии базы данных",e),t("Ошибка при открытии базы данных")},r.onsuccess=t=>{this.db=t.target.result,e()},r.onupgradeneeded=e=>{let t=e.target.result;t.objectStoreNames.contains(this.storeName)||t.createObjectStore(this.storeName,{keyPath:"id"})}})}async saveImage(e,t){return this.db||await this.initDB(),new Promise((r,s)=>{try{let a=new FileReader;a.onload=()=>{try{let i=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName),l={id:e,data:a.result,type:t.type,lastModified:new Date().getTime()},o=i.put(l);o.onsuccess=()=>r(),o.onerror=e=>s(e)}catch(e){s(e)}},a.onerror=e=>s(e),a.readAsDataURL(t)}catch(e){s(e)}})}async getImage(e){return this.db||await this.initDB(),new Promise((t,r)=>{try{let s=this.db.transaction([this.storeName],"readonly").objectStore(this.storeName).get(e);s.onsuccess=()=>{let r=s.result;if(!r){t(null);return}let a=atob(r.data.split(",")[1]),i=[];for(let e=0;e<a.length;e++)i.push(a.charCodeAt(e));let l=new Blob([new Uint8Array(i)],{type:r.type}),o=new File([l],"preview_".concat(e,".").concat(r.type.split("/")[1]),{type:r.type,lastModified:r.lastModified});t(o)},s.onerror=e=>r(e)}catch(e){r(e)}})}async deleteImage(e){return this.db||await this.initDB(),new Promise((t,r)=>{try{let s=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName).delete(e);s.onsuccess=()=>t(),s.onerror=e=>r(e)}catch(e){r(e)}})}async clearAll(){return this.db||await this.initDB(),new Promise((e,t)=>{try{let r=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName).clear();r.onsuccess=()=>e(),r.onerror=e=>t(e)}catch(e){t(e)}})}constructor(){this.db=null,this.dbName="bannerGeneratorDB",this.storeName="screenshots",this.version=1,this.initDB()}}function eE(){var e;let[t,r]=(0,a.useState)("en"),[v,b]=(0,a.useState)("iphone"),[j,y]=(0,a.useState)(eR),[N,w]=(0,a.useState)({en:{title:"TEST TITLE",description:"TEST description"}}),[k,S]=(0,a.useState)(!1),[P,D]=(0,a.useState)(0),[A,E]=(0,a.useState)(""),[L,I]=(0,a.useState)("banner"),[W,Y]=(0,a.useState)("center"),[G,X]=(0,a.useState)({title:24,description:16}),[Q,$]=(0,a.useState)({title:"auto",description:"auto"}),[K,ee]=(0,a.useState)({title:0,description:0}),er=(0,a.useRef)(null),es=(0,a.useRef)(null),ea=(0,a.useRef)(null);(0,a.useEffect)(()=>{ea.current=new eA},[]);let[ei,en]=(0,a.useState)([{id:1,name:"Preview 1",backgroundColor:"#FFD700",devicePosition:"center",deviceScale:100,verticalOffset:{combined:0,title:0,description:0,device:0},screenshot:{file:null,borderColor:"#000000",borderWidth:8,borderRadius:30}},{id:2,name:"Preview 2",backgroundColor:"#F5F5DC",devicePosition:"center",deviceScale:100,verticalOffset:{combined:0,title:0,description:0,device:0},screenshot:{file:null,borderColor:"#000000",borderWidth:8,borderRadius:30}},{id:3,name:"Preview 3",backgroundColor:"#FF6347",devicePosition:"center",deviceScale:100,verticalOffset:{combined:0,title:0,description:0,device:0},screenshot:{file:null,borderColor:"#000000",borderWidth:8,borderRadius:30}},{id:4,name:"Preview 4",backgroundColor:"#FFDAB9",devicePosition:"center",deviceScale:100,verticalOffset:{combined:0,title:0,description:0,device:0},screenshot:{file:null,borderColor:"#000000",borderWidth:8,borderRadius:30}}]);(0,a.useEffect)(()=>{if(!(()=>{try{let e="__localStorage_test__";return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}})()){console.warn("localStorage is not available");return}try{let e=localStorage.getItem("bannerSettings"),t=localStorage.getItem("localizedContent"),r=localStorage.getItem("previewItems"),s=localStorage.getItem("textAlignment"),a=localStorage.getItem("fontSize");if(e&&y(JSON.parse(e)),t&&w(JSON.parse(t)),r){let e=JSON.parse(r);en(e.map(e=>({...e,screenshot:{...e.screenshot,file:null}}))),ea.current&&e.forEach(async t=>{try{var r;let s="preview_".concat(t.id),a=await (null===(r=ea.current)||void 0===r?void 0:r.getImage(s));if(a){let r=[...e].map(e=>e.id===t.id?{...e,screenshot:{...e.screenshot,file:a}}:e);en(r)}}catch(e){console.error("Error loading image from IndexedDB:",e)}})}s&&Y(s),a&&X(JSON.parse(a))}catch(e){console.error("Error loading data from localStorage:",e)}},[]),(0,a.useEffect)(()=>{if(window.localStorage)try{localStorage.setItem("bannerSettings",JSON.stringify(j))}catch(e){console.error("Error saving banner settings:",e)}},[j]),(0,a.useEffect)(()=>{try{localStorage.setItem("localizedContent",JSON.stringify(N))}catch(e){console.error("Error saving localized content:",e)}},[N]),(0,a.useEffect)(()=>{try{let e=ei.map(e=>({...e,screenshot:{...e.screenshot,file:null}}));localStorage.setItem("previewItems",JSON.stringify(e))}catch(e){console.error("Error saving preview items:",e)}},[ei]),(0,a.useEffect)(()=>{try{localStorage.setItem("textAlignment",W)}catch(e){console.error("Error saving text alignment:",e)}},[W]),(0,a.useEffect)(()=>{try{localStorage.setItem("fontSize",JSON.stringify(G))}catch(e){console.error("Error saving font size:",e)}},[G]);let ed=e=>{let t=[...ei];if(t[P]&&(t[P]={...t[P],screenshot:{...t[P].screenshot,file:e}},en(t),ea.current)){let r="preview_".concat(t[P].id);ea.current.saveImage(r,e).catch(e=>console.error("Error saving image to IndexedDB:",e))}},eh=e=>{let t=ei.find(t=>t.id===e);if(!t)return;let r=ei.length>0?Math.max(...ei.map(e=>e.id))+1:1;en([...ei,{...t,id:r,name:"Preview ".concat(r),screenshot:{...t.screenshot,file:t.screenshot.file?t.screenshot.file:null}}]);let s={...N};Object.keys(s).forEach(t=>{let a="preview_".concat(r,"_title"),i="preview_".concat(r,"_description");s[t]&&(s[t][a]=s[t]["preview_".concat(e,"_title")]||s[t].title||"",s[t][i]=s[t]["preview_".concat(e,"_description")]||s[t].description||"")}),w(s),D(ei.length),setTimeout(()=>{es.current&&(es.current.scrollLeft=es.current.scrollWidth)},100)},ex=e=>{if(ei.length<=1)return;ea.current&&ea.current.deleteImage("preview_".concat(e)).catch(e=>console.error("Error deleting image from IndexedDB:",e));let t=ei.filter(t=>t.id!==e);en(t),P>=t.length&&D(t.length-1)},ep=(e,t)=>{let r=[...ei];r[P]&&(r[P]={...r[P],screenshot:{...r[P].screenshot,[e]:t}},en(r))},ef=e=>{var t;let r=e.devicePosition,s=e.deviceScale,a=(null===(t=e.verticalOffset)||void 0===t?void 0:t.device)||0,i={};switch(r){case"top-left":i={top:"20%",left:"25%"};break;case"top-center":i={top:"20%",left:"50%"};break;case"top-right":i={top:"20%",right:"25%"};break;case"center-left":i={top:"50%",left:"25%"};break;case"center":default:i={top:"50%",left:"50%"};break;case"center-right":i={top:"50%",right:"25%"};break;case"bottom-left":i={bottom:"20%",left:"25%"};break;case"bottom-center":i={bottom:"20%",left:"50%"};break;case"bottom-right":i={bottom:"20%",right:"25%"}}let l="";return r.includes("left")?l+="translateX(-50%) ":r.includes("right")?l+="translateX(50%) ":l+="translateX(-50%) ",r.includes("top")?l+="translateY(-50%) ":r.includes("bottom")?l+="translateY(50%) ":l+="translateY(-50%) ",l+="scale(".concat(s/100,") "),0!==a&&(l+="translateY(".concat(a,"px)")),{...i,transform:l,transformOrigin:"center",width:"".concat(220,"px")}},eg=e=>{if("center"===e)return{titlePosition:{top:"15%",left:"50%",transform:"translateX(-50%)",width:"250px"},descriptionPosition:{bottom:"15%",left:"50%",transform:"translateX(-50%)",width:"250px"},separateElements:!0};if(e.startsWith("top"))return{titlePosition:{bottom:"15%",left:"50%",transform:"translateX(-50%)",width:"250px"},descriptionPosition:{},separateElements:!1};if(e.startsWith("bottom"));else if(e.endsWith("left"))return{titlePosition:{top:"50%",right:"15%",transform:"translateY(-50%)",width:"250px"},descriptionPosition:{},separateElements:!1};else if(e.endsWith("right"))return{titlePosition:{top:"50%",left:"15%",transform:"translateY(-50%)",width:"250px"},descriptionPosition:{},separateElements:!1};return{titlePosition:{top:"15%",left:"50%",transform:"translateX(-50%)",width:"250px"},descriptionPosition:{},separateElements:!1}};(0,a.useEffect)(()=>{let e=e=>{e.preventDefault(),e.stopPropagation()},t=e=>{e.preventDefault(),e.stopPropagation(),e.dataTransfer.files&&e.dataTransfer.files[0]&&ed(e.dataTransfer.files[0])};return window.addEventListener("dragover",e),window.addEventListener("drop",t),()=>{window.removeEventListener("dragover",e),window.removeEventListener("drop",t)}},[P]);let ev=async()=>{S(!0);try{let e=ei[P];e&&er.current&&await ek(er.current,N,[e.screenshot],{...j,backgroundColor:e.backgroundColor})}catch(e){console.error("Export failed:",e)}finally{S(!1)}},eb=(e,t,r)=>{var s;let a="preview_".concat(t,"_").concat(r);return N[e]&&void 0!==N[e][a]?N[e][a]:(null===(s=N[e])||void 0===s?void 0:s[r])||""},ey=e=>({color:"title"===e?j.titleColor:j.descriptionColor,fontFamily:j.fontFamily,textAlign:W,fontSize:"".concat("title"===e?G.title:G.description,"px"),lineHeight:"title"===e?Q.title:Q.description,letterSpacing:"".concat("title"===e?K.title:K.description,"%")}),eN=(e,r)=>{var a,i,l,o;let n=r===P,{titlePosition:d,descriptionPosition:h,separateElements:x}=eg(e.devicePosition),p=e.verticalOffset||{combined:0,title:0,description:0,device:0};return(0,s.jsx)("div",{className:"relative cursor-pointer transition-all ".concat(n?"ring-2 ring-blue-500":"opacity-90 hover:opacity-100"),onClick:()=>D(r),style:{width:"320px",height:"690px",flexShrink:0,borderRadius:"16px",overflow:"hidden",margin:"0 8px"},children:(0,s.jsxs)("div",{className:"w-full h-full relative",style:{backgroundColor:e.backgroundColor},children:[(0,s.jsx)("div",{className:"absolute top-4 left-4 text-white text-xl font-mono opacity-50",children:String(e.id).padStart(2,"0")}),x?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"absolute ".concat(n?"cursor-pointer hover:ring-2 hover:ring-blue-300 hover:ring-opacity-50 rounded-md p-1":""),style:{...d,transform:"".concat(d.transform||""," translateY(").concat(p.title,"px)")},onDoubleClick:e=>{n&&(e.stopPropagation(),I("title"))},children:(0,s.jsx)("h2",{className:"text-2xl font-bold text-center",style:ey("title"),children:eb(t,e.id,"title")||"Title"})}),(0,s.jsx)("div",{className:"absolute ".concat(n?"cursor-pointer hover:ring-2 hover:ring-blue-300 hover:ring-opacity-50 rounded-md p-1":""),style:{...h,transform:"".concat(h.transform||""," translateY(").concat(p.description,"px)")},onDoubleClick:e=>{n&&(e.stopPropagation(),I("description"))},children:(0,s.jsx)("p",{className:"text-base text-center",style:ey("description"),children:eb(t,e.id,"description")||"Description"})})]}):(0,s.jsxs)("div",{className:"absolute ".concat(n?"cursor-pointer hover:ring-2 hover:ring-blue-300 hover:ring-opacity-50 rounded-md p-1":""),style:{...d,transform:"".concat(d.transform||""," translateY(").concat(p.combined,"px)")},onDoubleClick:e=>{n&&(e.stopPropagation(),I("text-block"))},children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-2 text-center",style:ey("title"),children:eb(t,e.id,"title")||"Title"}),(0,s.jsx)("p",{className:"text-base text-center",style:ey("description"),children:eb(t,e.id,"description")||"Description"})]}),(0,s.jsx)("div",{className:"absolute ".concat(n?"cursor-pointer hover:ring-2 hover:ring-blue-300 hover:ring-opacity-50":""),style:ef(e),onDoubleClick:e=>{n&&(e.stopPropagation(),I("device"))},children:(null===(a=e.screenshot)||void 0===a?void 0:a.file)?(0,s.jsx)("div",{style:{borderWidth:"".concat(e.screenshot.borderWidth,"px"),borderStyle:"solid",borderColor:e.screenshot.borderColor,borderRadius:"".concat(e.screenshot.borderRadius,"px"),overflow:"hidden"},children:(0,s.jsx)("img",{src:URL.createObjectURL(e.screenshot.file)||"/placeholder.svg",alt:"Screenshot ".concat(e.id),style:{width:"100%",display:"block"}})}):(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center p-4 border-2 border-dashed border-gray-300 rounded-lg bg-gray-50 ".concat(n?"cursor-pointer":""),style:{width:"100%",height:"400px",borderWidth:"".concat((null===(i=e.screenshot)||void 0===i?void 0:i.borderWidth)||8,"px"),borderStyle:"solid",borderColor:(null===(l=e.screenshot)||void 0===l?void 0:l.borderColor)||"#000000",borderRadius:"".concat((null===(o=e.screenshot)||void 0===o?void 0:o.borderRadius)||30,"px")},onDragOver:n?e=>{e.preventDefault(),e.stopPropagation(),e.currentTarget.classList.add("border-primary")}:void 0,onDragLeave:n?e=>{e.preventDefault(),e.stopPropagation(),e.currentTarget.classList.remove("border-primary")}:void 0,onDrop:n?e=>{e.preventDefault(),e.stopPropagation(),e.currentTarget.classList.remove("border-primary"),e.dataTransfer.files&&e.dataTransfer.files[0]&&ed(e.dataTransfer.files[0])}:void 0,children:[n&&(0,s.jsx)("input",{type:"file",id:"screenshot-upload-".concat(e.id),className:"hidden",accept:"image/*",onChange:e=>{e.target.files&&e.target.files[0]&&ed(e.target.files[0])}}),n?(0,s.jsxs)("label",{htmlFor:"screenshot-upload-".concat(e.id),className:"cursor-pointer flex flex-col items-center",children:[(0,s.jsx)(c.A,{className:"h-12 w-12 text-gray-400"}),(0,s.jsx)("span",{className:"mt-2 text-sm text-gray-500",children:"Click or drag & drop to upload screenshot"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.A,{className:"h-12 w-12 text-gray-400"}),(0,s.jsx)("span",{className:"mt-2 text-sm text-gray-500",children:"No screenshot"})]})]})}),n&&(0,s.jsxs)("div",{className:"absolute top-4 right-4 flex gap-1",children:[(0,s.jsx)(C,{variant:"ghost",size:"icon",className:"h-8 w-8 bg-black bg-opacity-30 hover:bg-opacity-50 text-white rounded-full",onClick:t=>{t.stopPropagation(),eh(e.id)},children:(0,s.jsx)(m.A,{className:"h-4 w-4"})}),ei.length>1&&(0,s.jsx)(C,{variant:"ghost",size:"icon",className:"h-8 w-8 bg-black bg-opacity-30 hover:bg-opacity-50 text-white rounded-full",onClick:t=>{t.stopPropagation(),ex(e.id)},children:(0,s.jsx)(u.A,{className:"h-4 w-4"})})]})]})},e.id)};return(0,s.jsx)("div",{className:"container mx-auto py-6",children:(0,s.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,s.jsxs)("header",{className:"flex justify-between items-center",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold",children:"App Store Banner Generator"}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(eD,{selectedDevice:v,onChange:b}),(0,s.jsxs)(el,{children:[(0,s.jsx)(eo,{asChild:!0,children:(0,s.jsxs)(C,{variant:"outline",children:[(0,s.jsx)(h.A,{className:"mr-2 h-4 w-4"}),"Import JSON"]})}),(0,s.jsxs)(ec,{children:[(0,s.jsx)(em,{children:(0,s.jsx)(eu,{children:"Import Localized Content"})}),(0,s.jsxs)("div",{className:"space-y-4 py-4",children:[(0,s.jsx)(Z,{placeholder:"Paste your JSON here...",value:A,onChange:e=>E(e.target.value),rows:10}),(0,s.jsxs)("div",{className:"text-xs text-gray-500",children:[(0,s.jsx)("p",{children:"Expected format:"}),(0,s.jsx)("pre",{className:"mt-1 bg-gray-100 p-2 rounded overflow-auto",children:'{\n  "en": { "title": "English Title", "description": "English Description" },\n  "fr": { "title": "French Title", "description": "French Description" }\n}'}),(0,s.jsx)("p",{className:"mt-2",children:"Or for multiple previews:"}),(0,s.jsx)("pre",{className:"mt-1 bg-gray-100 p-2 rounded overflow-auto",children:'[\n  {\n    "languages": {\n      "en": { "title": "Preview 1 English", "description": "Description" },\n      "fr": { "title": "Preview 1 French", "description": "Description" }\n    }\n  },\n  {\n    "languages": {\n      "en": { "title": "Preview 2 English", "description": "Description" },\n      "fr": { "title": "Preview 2 French", "description": "Description" }\n    }\n  }\n]'})]}),(0,s.jsx)(C,{onClick:()=>{try{let e=JSON.parse(A);if("object"==typeof e){if(Object.keys(e).some(e=>eS.some(t=>t.code===e)))w(e);else if(Array.isArray(e)&&e.length>0&&e[0].languages){let t={...N};e.forEach((e,r)=>{let s=r+1;e.languages&&"object"==typeof e.languages&&Object.keys(e.languages).forEach(r=>{t[r]||(t[r]={}),t[r]["preview_".concat(s,"_title")]=e.languages[r].title||"",t[r]["preview_".concat(s,"_description")]=e.languages[r].description||""})}),w(t)}else alert("Invalid JSON format. Please check the structure.")}else alert("Invalid JSON format. Please provide a valid object.")}catch(e){alert("Error parsing JSON: ".concat(e.message))}},className:"w-full",children:"Import"})]})]})]}),(0,s.jsx)(ej,{languages:eS,activeLanguage:t,onChange:e=>{r(e),N[e]||w({...N,[e]:{title:N.en.title,description:N.en.description}})}}),(0,s.jsxs)(C,{onClick:ev,disabled:k,children:[(0,s.jsx)(x.A,{className:"mr-2 h-4 w-4"}),k?"Exporting...":"Export All"]}),(0,s.jsxs)(C,{variant:"outline",onClick:()=>{confirm("Это действие сбросит все настройки. Продолжить?")&&(localStorage.clear(),ea.current?ea.current.clearAll().then(()=>{console.log("IndexedDB успешно очищен"),window.location.reload()}).catch(e=>{console.error("Ошибка при очистке IndexedDB:",e),window.location.reload()}):window.location.reload())},children:[(0,s.jsx)(u.A,{className:"mr-2 h-4 w-4"}),"Сбросить"]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,s.jsx)("div",{className:"lg:col-span-2",children:(0,s.jsx)(U,{className:"overflow-hidden",children:(0,s.jsx)(V,{className:"p-0",children:(0,s.jsxs)("div",{className:"bg-gray-100 p-6 flex flex-col min-h-[800px]",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("div",{className:"text-sm text-gray-500",children:P>0&&(0,s.jsxs)(C,{variant:"ghost",size:"sm",className:"text-gray-500",onClick:()=>D(Math.max(0,P-1)),children:[(0,s.jsx)(p.A,{className:"h-4 w-4 mr-1"})," Previous"]})}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"Double-click on elements to edit them"}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:P<ei.length-1&&(0,s.jsxs)(C,{variant:"ghost",size:"sm",className:"text-gray-500",onClick:()=>D(Math.min(ei.length-1,P+1)),children:["Next ",(0,s.jsx)(f.A,{className:"h-4 w-4 ml-1"})]})})]}),(0,s.jsxs)("div",{ref:es,className:"flex overflow-x-auto pb-4 pt-2 px-2 -mx-2 mb-4 snap-x",style:{scrollbarWidth:"thin"},children:[ei.map((e,t)=>eN(e,t)),(0,s.jsx)("div",{className:"flex items-center justify-center border-2 border-dashed border-gray-300 rounded-xl cursor-pointer hover:border-primary hover:bg-gray-50",style:{width:"320px",height:"690px",flexShrink:0,margin:"0 8px"},onClick:()=>{let e=ei.length>0?Math.max(...ei.map(e=>e.id))+1:1,t=["#FFD700","#F5F5DC","#FF6347","#FFDAB9","#87CEEB","#98FB98","#DDA0DD","#F0E68C"],r=t[Math.floor(Math.random()*t.length)];en([...ei,{id:e,name:"Preview ".concat(e),backgroundColor:r,devicePosition:"center",deviceScale:100,verticalOffset:{combined:0,title:0,description:0,device:0},screenshot:{file:null,borderColor:"#000000",borderWidth:8,borderRadius:30}}]),setTimeout(()=>{es.current&&(es.current.scrollLeft=es.current.scrollWidth)},100)},children:(0,s.jsx)(g.A,{className:"h-12 w-12 text-gray-400"})})]}),(0,s.jsx)("div",{className:"hidden",children:(0,s.jsx)("div",{className:"relative",ref:er,style:{width:"320px",height:"690px",backgroundColor:(null===(e=ei[P])||void 0===e?void 0:e.backgroundColor)||"#007AFF",overflow:"hidden"},children:(0,s.jsx)("div",{className:"absolute inset-0",children:(()=>{var e,r,a,i,l,o,n,d,m,u,h,x,p,f,g,v,b,j;let{titlePosition:y,descriptionPosition:N,separateElements:w}=eg((ei[P]||{}).devicePosition||"center");return(0,s.jsxs)(s.Fragment,{children:[w?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"absolute",style:{...y,transform:"".concat(y.transform||""," translateY(").concat((null===(r=ei[P])||void 0===r?void 0:null===(e=r.verticalOffset)||void 0===e?void 0:e.title)||0,"px)")},children:(0,s.jsx)("h2",{className:"text-2xl font-bold text-center",style:ey("title"),children:eb(t,(null===(a=ei[P])||void 0===a?void 0:a.id)||1,"title")||"Title"})}),(0,s.jsx)("div",{className:"absolute",style:{...N,transform:"".concat(N.transform||""," translateY(").concat((null===(l=ei[P])||void 0===l?void 0:null===(i=l.verticalOffset)||void 0===i?void 0:i.description)||0,"px)")},children:(0,s.jsx)("p",{className:"text-base text-center",style:ey("description"),children:eb(t,(null===(o=ei[P])||void 0===o?void 0:o.id)||1,"description")||"Description"})})]}):(0,s.jsxs)("div",{className:"absolute",style:{...y,transform:"".concat(y.transform||""," translateY(").concat((null===(d=ei[P])||void 0===d?void 0:null===(n=d.verticalOffset)||void 0===n?void 0:n.combined)||0,"px)")},children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-2 text-center",style:ey("title"),children:eb(t,(null===(m=ei[P])||void 0===m?void 0:m.id)||1,"title")||"Title"}),(0,s.jsx)("p",{className:"text-base text-center",style:ey("description"),children:eb(t,(null===(u=ei[P])||void 0===u?void 0:u.id)||1,"description")||"Description"})]}),(0,s.jsx)("div",{className:"absolute",style:ef(ei[P]||{}),children:(null===(x=ei[P])||void 0===x?void 0:null===(h=x.screenshot)||void 0===h?void 0:h.file)?(0,s.jsx)("div",{style:{borderWidth:"".concat(ei[P].screenshot.borderWidth,"px"),borderStyle:"solid",borderColor:ei[P].screenshot.borderColor,borderRadius:"".concat(ei[P].screenshot.borderRadius,"px"),overflow:"hidden"},children:(0,s.jsx)("img",{src:URL.createObjectURL(ei[P].screenshot.file)||"/placeholder.svg",alt:"Screenshot ".concat(ei[P].id),style:{width:"100%",display:"block"}})}):(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center p-4 border-2 border-dashed border-gray-300 rounded-lg bg-gray-50",style:{width:"100%",height:"400px",borderWidth:"".concat((null===(f=ei[P])||void 0===f?void 0:null===(p=f.screenshot)||void 0===p?void 0:p.borderWidth)||8,"px"),borderStyle:"solid",borderColor:"".concat((null===(v=ei[P])||void 0===v?void 0:null===(g=v.screenshot)||void 0===g?void 0:g.borderColor)||"#000000"),borderRadius:"".concat((null===(j=ei[P])||void 0===j?void 0:null===(b=j.screenshot)||void 0===b?void 0:b.borderRadius)||30,"px")},children:[(0,s.jsx)(c.A,{className:"h-12 w-12 text-gray-400"}),(0,s.jsx)("span",{className:"mt-2 text-sm text-gray-500",children:"No screenshot"})]})})]})})()})})})]})})})}),(0,s.jsx)("div",{className:"lg:col-span-1",children:(0,s.jsx)(U,{children:(0,s.jsx)(V,{className:"p-6 space-y-6 max-h-[800px] overflow-y-auto",children:(()=>{var e,r,a,c,m,u,h,x,p,f,g,v,b;let k=ei[P]||{};switch(L){case"none":case"banner":return(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-medium",children:"Banner Settings"}),(0,s.jsxs)("div",{children:[(0,s.jsx)(R,{children:"Orientation"}),(0,s.jsxs)(q,{defaultValue:j.orientation,className:"flex gap-4 mt-2",onValueChange:e=>y({...j,orientation:e}),children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(H,{value:"portrait",id:"portrait"}),(0,s.jsx)(R,{htmlFor:"portrait",children:"Portrait"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(H,{value:"landscape",id:"landscape"}),(0,s.jsx)(R,{htmlFor:"landscape",children:"Landscape"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(R,{children:"Background Color"}),(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsx)(et,{color:k.backgroundColor||"#007AFF",onChange:e=>{let t=[...ei];t[P]&&(t[P]={...t[P],backgroundColor:e},en(t))}})})]})]})});case"title":case"description":let S="title"===L;return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)(R,{className:"text-sm text-gray-500",children:[S?"Title":"Description"," Text"]}),S?(0,s.jsx)(F,{value:eb(t,k.id||1,"title")||"",onChange:e=>{let r=k.id||1;w({...N,[t]:{...N[t],["preview_".concat(r,"_title")]:e.target.value}})},className:"mt-1"}):(0,s.jsx)(Z,{value:eb(t,k.id||1,"description")||"",onChange:e=>{let r=k.id||1;w({...N,[t]:{...N[t],["preview_".concat(r,"_description")]:e.target.value}})},className:"mt-1",rows:3})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsx)("div",{children:(0,s.jsxs)(O,{value:j.fontFamily,onValueChange:e=>y({...j,fontFamily:e}),children:[(0,s.jsx)(_,{className:"w-full",children:(0,s.jsx)(B,{placeholder:"Font"})}),(0,s.jsxs)(z,{children:[(0,s.jsx)(T,{value:"SF Pro",children:"SF Pro"}),(0,s.jsx)(T,{value:"Arial",children:"Arial"}),(0,s.jsx)(T,{value:"Helvetica",children:"Helvetica"}),(0,s.jsx)(T,{value:"Roboto",children:"Roboto"})]})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-0",children:[(0,s.jsx)("div",{children:(0,s.jsxs)(O,{value:S?j.titleColor:j.descriptionColor,onValueChange:e=>{S?y({...j,titleColor:e}):y({...j,descriptionColor:e})},children:[(0,s.jsx)(_,{className:"rounded-r-none border-r-0",children:(0,s.jsx)(B,{placeholder:"Color"})}),(0,s.jsxs)(z,{children:[(0,s.jsx)(T,{value:"#FFFFFF",children:"White"}),(0,s.jsx)(T,{value:"#000000",children:"Black"}),(0,s.jsx)(T,{value:"#FF0000",children:"Red"}),(0,s.jsx)(T,{value:"#00FF00",children:"Green"}),(0,s.jsx)(T,{value:"#0000FF",children:"Blue"})]})]})}),(0,s.jsx)(F,{type:"number",className:"rounded-l-none",value:S?G.title:G.description,onChange:e=>{let t=Number.parseInt(e.target.value)||16;X({...G,[S?"title":"description"]:t})}})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Line height"}),(0,s.jsxs)("div",{className:"flex items-center p-2 bg-gray-100 rounded-md",children:[(0,s.jsx)("span",{className:"text-gray-500 mr-2",children:"A"}),(0,s.jsx)("span",{className:"text-gray-700",children:"Auto"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Letter spacing"}),(0,s.jsxs)("div",{className:"flex items-center p-2 bg-gray-100 rounded-md",children:[(0,s.jsx)("span",{className:"text-gray-500 mr-2",children:"|A|"}),(0,s.jsx)("span",{className:"text-gray-700",children:"0%"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Alignment"}),(0,s.jsxs)("div",{className:"flex gap-1",children:[(0,s.jsx)(C,{variant:"left"===W?"default":"outline",size:"sm",className:"flex-1",onClick:()=>Y("left"),children:(0,s.jsx)(i.A,{className:"h-4 w-4"})}),(0,s.jsx)(C,{variant:"center"===W?"default":"outline",size:"sm",className:"flex-1",onClick:()=>Y("center"),children:(0,s.jsx)(l.A,{className:"h-4 w-4"})}),(0,s.jsx)(C,{variant:"right"===W?"default":"outline",size:"sm",className:"flex-1",onClick:()=>Y("right"),children:(0,s.jsx)(o.A,{className:"h-4 w-4"})}),(0,s.jsx)(C,{variant:"justify"===W?"default":"outline",size:"sm",className:"flex-1",onClick:()=>Y("justify"),children:(0,s.jsx)(n.A,{className:"h-4 w-4"})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("div",{className:"text-xs text-gray-500",children:"Vertical Position"}),(0,s.jsxs)("span",{className:"text-xs text-gray-500",children:[S?(null===(e=k.verticalOffset)||void 0===e?void 0:e.title)||0:(null===(r=k.verticalOffset)||void 0===r?void 0:r.description)||0,"px"]})]}),(0,s.jsx)(J,{value:[S?(null===(a=k.verticalOffset)||void 0===a?void 0:a.title)||0:(null===(c=k.verticalOffset)||void 0===c?void 0:c.description)||0],min:-100,max:100,step:1,className:"mt-2",onValueChange:e=>{let t=[...ei];t[P]&&(t[P]={...t[P],verticalOffset:{...t[P].verticalOffset,[S?"title":"description"]:e[0]}},en(t))}})]})]});case"text-block":return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(R,{className:"text-sm text-gray-500",children:"Title"}),(0,s.jsx)(F,{value:eb(t,k.id||1,"title")||"",onChange:e=>{let r=k.id||1;w({...N,[t]:{...N[t],["preview_".concat(r,"_title")]:e.target.value}})},className:"mt-1"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(R,{className:"text-sm text-gray-500",children:"Description"}),(0,s.jsx)(Z,{value:eb(t,k.id||1,"description")||"",onChange:e=>{let r=k.id||1;w({...N,[t]:{...N[t],["preview_".concat(r,"_description")]:e.target.value}})},className:"mt-1",rows:3})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("div",{className:"text-xs text-gray-500",children:"Vertical Position"}),(0,s.jsxs)("span",{className:"text-xs text-gray-500",children:[(null===(m=k.verticalOffset)||void 0===m?void 0:m.combined)||0,"px"]})]}),(0,s.jsx)(J,{value:[(null===(u=k.verticalOffset)||void 0===u?void 0:u.combined)||0],min:-100,max:100,step:1,className:"mt-2",onValueChange:e=>{let t=[...ei];t[P]&&(t[P]={...t[P],verticalOffset:{...t[P].verticalOffset,combined:e[0]}},en(t))}})]})]});case"device":return(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-medium",children:"Device Settings"}),(0,s.jsxs)("div",{children:[(0,s.jsx)(R,{children:"Position"}),(0,s.jsx)("div",{className:"grid grid-cols-3 gap-1 mt-2",children:eP.map(e=>(0,s.jsx)("button",{type:"button",onClick:()=>{let t=[...ei];t[P]&&(t[P]={...t[P],devicePosition:e.value},en(t))},className:"p-1 rounded-md border ".concat(k.devicePosition===e.value?"bg-primary text-primary-foreground":"bg-background hover:bg-muted"),title:e.label,children:(0,s.jsx)(d.A,{className:"h-4 w-4 mx-auto"})},e.value))})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)(R,{children:"Device Scale"}),(0,s.jsxs)("span",{className:"text-sm text-gray-500",children:[k.deviceScale||100,"%"]})]}),(0,s.jsx)(J,{value:[k.deviceScale||100],min:50,max:150,step:5,className:"mt-2",onValueChange:e=>{let t=[...ei];t[P]&&(t[P]={...t[P],deviceScale:e[0]},en(t))}})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)(R,{children:"Vertical Position"}),(0,s.jsxs)("span",{className:"text-sm text-gray-500",children:[(null===(h=k.verticalOffset)||void 0===h?void 0:h.device)||0,"px"]})]}),(0,s.jsx)(J,{value:[(null===(x=k.verticalOffset)||void 0===x?void 0:x.device)||0],min:-100,max:100,step:1,className:"mt-2",onValueChange:e=>{let t=[...ei];t[P]&&(t[P]={...t[P],verticalOffset:{...t[P].verticalOffset,device:e[0]}},en(t))}})]}),(0,s.jsx)(M,{}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-medium",children:"Border Settings"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(R,{children:"Border Color"}),(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsx)(et,{color:(null===(p=k.screenshot)||void 0===p?void 0:p.borderColor)||"#000000",onChange:e=>ep("borderColor",e)})})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)(R,{children:"Border Width"}),(0,s.jsxs)("span",{className:"text-sm text-gray-500",children:[(null===(f=k.screenshot)||void 0===f?void 0:f.borderWidth)||8,"px"]})]}),(0,s.jsx)(J,{value:[(null===(g=k.screenshot)||void 0===g?void 0:g.borderWidth)||8],min:0,max:20,step:1,className:"mt-2",onValueChange:e=>ep("borderWidth",e[0])})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)(R,{children:"Border Radius"}),(0,s.jsxs)("span",{className:"text-sm text-gray-500",children:[(null===(v=k.screenshot)||void 0===v?void 0:v.borderRadius)||30,"px"]})]}),(0,s.jsx)(J,{value:[(null===(b=k.screenshot)||void 0===b?void 0:b.borderRadius)||30],min:0,max:60,step:1,className:"mt-2",onValueChange:e=>ep("borderRadius",e[0])})]})]})]})]})});default:return null}})()})})})]})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[316,845,441,517,358],()=>t(6329)),_N_E=e.O()}]);